--- 
title: "Unexpected '++'"
layout: post
tags: jslint
author: jallardice
translator: fantasyshao
---
<p>
    <h3>什么时候会产生这个错误？</h3>
</p>
<p>
    JSLint在遇到<strong>使用自增操作符<span class="code">++</span></strong>的时候会抛出"Unexpected '++'"的错误。当然也会在遇到<strong>使用自减操作符<span class="code">--</span></strong>的时候抛出"Unexpected '--'"的错误。以下是一个例子：
</p>
<textarea>
var x = 1,
    y = 10;

x++;
y--;</textarea>
<p>
    <h3>为什么会产生这个错误？</h3>
</p>
<p>
    这个错误消息可能是所有JSLint错误消息中争论最大的一个了。它的存在正是为了警告你JSLint遇到了<strong>违反特定的代码风格</strong>，特别的来说，是JSLint作者Douglas Crockford的风格。要知道他的理由，可以阅读<a href="http://www.jslint.com/lint.html#inc" target="_blank">JSLint的文档</a>:
</p>
<blockquote>The <span class="code">++</span> (increment) and <span class="code">--</span> (decrement) operators have been known to contribute to bad code by encouraging excessive trickiness. They are second only to faulty architecture in enabling to viruses and other security menaces. Also, preincrement/postincrement confusion can produce off-by-one errors that are extremely difficult to diagnose.</blockquote>
<p>
    很多JavaScript开发者都不赞同之，但是事实是，这是JSLint的规则所以你需要通过某种方式处理之。JSLint推荐的做法是使用普通的加减操作，配合赋值操作，当然这会略微增加代码的长度：
</p>
<textarea>
var x = 1,
    y = 10;

x = x + 1; // or x += 1;
y = y - 1; // or y -= 1;</textarea>
<p>
    如果你不想要这样做，并想要坚持使用自增和自减操作符，你可以将<span class="code">plusplus</span>选项设置为<span class="code">true</span>来告诉JSLint允许这样做：
</p>
<textarea>
/*jslint plusplus: true */
var x = 1,
    y = 10;

x++;
y--;</textarea>